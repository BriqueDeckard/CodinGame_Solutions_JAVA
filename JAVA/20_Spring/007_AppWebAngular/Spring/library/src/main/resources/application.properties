################# DataSource Config #################
# spring.datasource.*, permettent de configurer l'accès à la base de données et sa
# localisation. Pour le cas d'espèce, nous avons configuré la base embarquée H2 qui 
# persistera les données non en mémoire, mais dans un fichier /src/main/resources/database/library-db. 
# La propriété spring.datasource.data permet à Spring Boot d'exécuter un script sql 
# au démarrage de l'application. On pourra donc charger nos différentes catégories de livres. 
# En affectant la valeur create-drop à la propriété spring.jpa.hibernate.ddl-auto, 
# nous demandons à hibernate, à chaque fois que l'application démarre, de supprimer 
# et de recréer le schéma de la base de données ;
spring.datasource.name=library-db
spring.datasource.username=sa
spring.datasource.password=
spring.datasource.url = jdbc:h2:file:./src/main/resources/database/library-db
spring.datasource.driver-class-name=org.h2.Driver
spring.datasource.sql-script-encoding= UTF-8
spring.datasource.data=classpath:data/categories.sql

############# Hibernate properties #################
# spring.jpa.*, permettent de configurer les paramètres Hibernate/JPA. Dans le cas 
# d'espèce : toute requête sql exécutée sera tracée dans la console ; hibernate supprimera 
# et recréera la base de données au démarrage de l'application. Enfin, le dialecte qu'il 
# utilisera pour communiquer avec la base est celui d'H2 naturellement ;
spring.jpa.show-sql=true
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

############# Enable H2 Database browser console #################
#http://localhost:port/library/h2-console/
# spring.h2.console.enable, active la possibilité de visualiser dans un navigateur 
# les tables de notre base de données H2 (cf. lien en commentaire) ;
spring.h2.console.enabled=true


############# Email Config #################
# spring.mail.*, permettent de configurer les ressources d'envoi de mails. 
# Pour le cas d'espèce, nous avons choisi gmail.com comme le fournisseur du compte d'envoi 
# de mails (on aurait pu choisir Yahoo, ou Hotmail, etc.). Nous détaillerons un peu plus cette 
# partie dans la suite de cet article.
#
# Dans ce paramétrage, UTF-8 correspond à l'encodage du texte contenu dans 
# les mails. Le protocole de mailing utilisé est SMTP (Simple Message Transfer 
# Protocol) avec comme serveur celui gmail de Google sur le port 587. 
# Notre application utilisera le compte noreply.library.test@gmail.com/passwordTest 
# pour envoyer ses mails dans un contexte sécurisé 
# (spring.mail.properties.mail.smtp.auth=true).
# Enfin, la connexion de l'application au serveur smtp utilisera le protocole TLS 
# (spring.mail.properties.mail.smtp.starttls.enable=true). 
# Pour information, pour permettre à une application/robot d'envoyer des mails 
# via gmail, il faut se connecter une première fois manuellement dans le compte 
# gmail concerné, puis aller à l'adresse suivante 
# https://www.google.com/settings/security/lesssecureapps 
# pour désactiver la sécurité manuelle.
spring.mail.default-encoding=UTF-8
spring.mail.protocol=smtp
spring.mail.host=smtp.gmail.com
spring.mail.username=noreply.library.test@gmail.com
spring.mail.password=password1Test
spring.mail.port= 587
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.test-connection=false
#https://www.google.com/settings/security/lesssecureapps